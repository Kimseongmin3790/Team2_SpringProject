<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.TeamProject.mapper.ProductMapper">
	
	<insert id="insertProduct" parameterType="hashmap" useGeneratedKeys="true" keyColumn="PRODUCT_NO" keyProperty="productNo">
	    INSERT INTO PRODUCT (
	        PRODUCT_NO, SELLER_ID, CATEGORY_NO, PNAME, PINFO,
	        PRICE, STOCK, UNIT, ORIGIN, CDATETIME, UDATETIME,
	        RECOMMEND, PRODUCT_STATUS
	    ) VALUES (
	        PRODUCT_SEQ.NEXTVAL, #{sellerId}, #{categoryNo}, #{pname}, #{pinfo},
	        #{price}, #{stock}, #{unit}, #{origin}, SYSDATE, SYSDATE,
	        #{recommend}, #{productStatus}
	    )
	</insert>

	<insert id="insertProductImage" parameterType="hashmap">
	    INSERT INTO PRODUCT_IMAGE (IMAGE_ID, PRODUCT_NO, IMAGE_URL, IS_THUMBNAIL)
	    VALUES (PRODUCT_IMAGE_SEQ.NEXTVAL, #{productNo}, #{imageUrl}, #{isThumbnail})
	</insert>
	
</mapper>