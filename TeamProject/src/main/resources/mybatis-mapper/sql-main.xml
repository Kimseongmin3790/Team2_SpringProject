<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.TeamProject.mapper.MainMapper">
    
    <select id="selectMainBanners" resultType="com.example.TeamProject.model.Main$MainBannerVO">
        SELECT
            MB.BANNER_NO AS id,         MB.TITLE,                   MB.LINK_URL AS linkUrl,     PI.IMAGE_PATH AS imageUrl   FROM TBL_MAIN_BANNER MB
        INNER JOIN TBL_PRODUCT_IMAGE PI ON MB.PRODUCT_NO = PI.PRODUCT_NO  WHERE MB.DISPLAY_YN = 'Y'
          AND PI.SORT_ORDER = 1        ORDER BY MB.SORT_ORDER ASC
    </select>
    
    <select id="selectProducers" resultType="com.example.TeamProject.model.Main$ProducerVO">
        SELECT
            T.USERID AS id,
            T.BUSINESS_NAME AS name,
            T.BUSINESS_LICENSE AS description,  T.LOGO_URL AS logoUrl
        FROM TBL_SELLER_INFO T
        WHERE T.VERIFIED = 'Y'                  ORDER BY T.USERID DESC
        OFFSET 0 ROWS FETCH NEXT 4 ROWS ONLY    </select>
    
    <select id="selectBestProducts" resultType="com.example.TeamProject.model.Main$BestProductVO">
        SELECT
            P.PRODUCT_NO AS id,
            P.NAME,
            PC.CATEGORY_NAME AS category,
            P.PRICE
        FROM TBL_PRODUCT P
        INNER JOIN TBL_PRODUCT_CATEGORY PC ON P.CATEGORY = PC.CATEGORY_NO
        WHERE P.PRODUCT_STATUS = 'SELLING'
          AND P.RECOMMEND = 'Y'                   ORDER BY P.PRODUCT_NO DESC                OFFSET 0 ROWS FETCH NEXT 4 ROWS ONLY
    </select>
</mapper>