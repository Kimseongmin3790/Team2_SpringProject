<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.TeamProject.mapper.UserMapper">
	<insert id="insertUser" parameterType="hashmap">
		INSERT INTO USERS
		VALUES(#{userId}, #{userEmail}, #{hashPwd}, #{userName}, #{userPhone}, #{userRole}, #{userAddr}, SYSDATE, SYSDATE, 0)
	</insert>
	
	<insert id="insertSeller" parameterType="hashmap">
		INSERT INTO SELLER_INFO
		VALUES(#{userId}, #{farmName}, #{bizNo}, 'Y', #{bizNo}, #{account}, #{bankName})
	</insert>
	
	<select id="idCheck" parameterType="hashmap" resultType="com.example.TeamProject.model.User">
		SELECT *
		FROM USERS
		WHERE USER_ID = #{userId}
	</select>
	
	<select id="loginUser" parameterType="hashmap" resultType="com.example.TeamProject.model.User">
		SELECT *
		FROM USERS
		WHERE USER_ID = #{userId}
	</select>
	
	<select id="findId" parameterType="hashmap" resultType="com.example.TeamProject.model.User">
		SELECT *
		FROM USERS
		WHERE NAME = #{userName} AND EMAIL = #{userEmail}
	</select>
	
	<select id="findPwd" parameterType="hashmap" resultType="com.example.TeamProject.model.User">
		SELECT *
		FROM USERS
		WHERE USER_ID = #{userId} AND NAME = #{userName} AND EMAIL = #{userEmail}
	</select>
	
	<update id="resetPwd" parameterType="hashmap">
		UPDATE USERS
		SET PASSWORD = #{hashPwd}
		WHERE USER_ID = #{userId}
	</update>
</mapper>